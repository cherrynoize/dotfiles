#!/usr/bin/env bash
#    _
#   | |__  ___ _ ____      ___ __ ___
#   | '_ \/ __| '_ \ \ /\ / / '_  ` _ \  ^ cherrynoize
#   | |_) \__ \ |_) \ V  V /| | | | | |  ^ https://github.com/cherrynoize/dotfiles
#   |_.__/|___/ .__/ \_/\_/ |_| |_| |_|  ^ cherrynoize@duck.com
#             |_|

get_cd () {
  dirname "$(readlink -f "$0")"
}

#
# my bspwm config 
#

# set theme and colorscheme
theme="current"
colorscheme="current"

# themes and colorschemes directories
themes_dir="$(get_cd)/themes"
colors_dir="$(get_cd)/colors"

# > ğŸŒ ó±ƒ« ó±Œ° ó±Œ¬ î¯¥ îª¯ îª¾ ó±€¤ î  ïŒŸ ğŸµó°²‹ î€ ó°€˜ î© ó°¢š ó°™¯ ó°»ó°­¹ ó°‚« îœ¡ ï€¾ ï€„ ï…ª ï‡— ï°
workspaces=('ï„  ' 'ï‰© ' 'ï„¡ ' 'ï¼ ' 'ï†¼ ' 'ï…„ ' 'ï¯  ' 'ï„› ' 'ï©  ' 'ïˆ ' 'ï€“ ')

# bspwm config
bspc config split_ratio                 0.5
bspc config single_monocle              true
bspc config gapless_monocle             false
bspc config focus_follows_pointer       false
bspc config center_pseudo_tiled         false

bspc config pointer_modifier            mod4 
bspc config pointer_action1             move 
bspc config pointer_action2             resize_side 
bspc config pointer_action3             resize_corner

bspc config pointer_motion_interval     16

bspc config automatic_scheme            longest_side
bspc config initial_polarity            second_child

bspc config remove_disabled_monitors    true 
bspc config merge_overlapping_monitors  true

bspc config external_rules_command      "$(get_cd)/scripts/external_rules"

# source theme and colorscheme
. "$themes_dir/$theme"
. "$colors_dir/$colorscheme"

# create workspaces
name=1
for monitor in $(bspc query -M); do
  bspc monitor "$monitor" -n "$name" -d "${workspaces[@]}"
  (( name++ ))
done
